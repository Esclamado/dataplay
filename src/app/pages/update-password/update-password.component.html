<div class="bg-gray-200 w-full h-full barlow text-base">
    <div class="container mx-auto px-10 py-10">
        <form [formGroup]="changePassForm" *ngIf="changePassForm">
            <div class="grid grid-cols-12">
                <div class="bg-white rounded-lg p-8 shadow-xl col-span-8 col-start-3 col-gap-4 px-10 py-10">
                    <p class="font-bold fs-18-px barlow">Change your password</p>
                    <div class="col-span-2 mt-5">
                        <label class="block label-color mb-1 pt-3" style="color:#7E868F" for="new_password">New password</label>
                        <div class="flex-col flex items-end">
                            <input formControlName="new_password" (keyup)="checkIfSame()" class="custom-input w-full pt-5 mb-1" style="padding-right: 45px;" [type]="newpassType"
                            [ngClass]="{'error  pr-30-px': changePassForm.controls.new_password.touched && !changePassForm.controls.new_password.valid}">
                            <span class="eye-container flex">
                                <i *ngIf="newShowPass" [icon]="faEye" class="far fa-eye mr-3 cursor-pointer text-gray-500"
                                    (click)="changePassForm.controls.new_password.valid ? changePassForm.controls.new_password.markAsUntouched() : '';newShowPassword(false);changePassForm.controls.new_password.markAsUntouched()"></i>
                    
                                <i *ngIf="!newShowPass" [icon]="faEyeSlash" class="far fa-eye-slash mr-3 cursor-pointer text-gray-500"
                                    (click)="changePassForm.controls.new_password.valid ? changePassForm.controls.new_password.markAsUntouched() : '';newShowPassword(true);changePassForm.controls.new_password.markAsUntouched()"></i>
                            </span>
                        </div>
                        <ng-container *ngIf="changePassForm.controls.new_password.touched">
                            <span class="barlow text-red-700 fs-14-px" *ngIf="changePassForm.controls.new_password.hasError('required')">New password is
                                required</span>
                            <span class="text-red-700 fs-14-px" *ngIf="changePassForm.controls.new_password.hasError('minlength')"> New passsword must be at least 6 characters!</span>
                        </ng-container>
                    </div>
                    <div class="col-span-2 mt-5">
                        <label class="block label-color mb-1 pt-3" style="color:#7E868F" for="confirm_password">Confirm new password</label>
                        <div class="flex-col flex items-end">
                            <input formControlName="confirm_password" (keyup)="checkIfSame()" class="custom-input w-full pt-5 mb-1" style="padding-right: 45px;" [type]="confirmpassType"
                            [ngClass]="{'error  pr-30-px': changePassForm.controls.confirm_password.touched && !changePassForm.controls.confirm_password.valid}">
                            <span class="eye-container flex">
                                <i *ngIf="confirmShowPass" [icon]="faEye" class="far fa-eye mr-3 cursor-pointer text-gray-500"
                                    (click)="changePassForm.controls.confirm_password.valid ? changePassForm.controls.confirm_password.markAsUntouched() : '';confirmShowPassword(false);changePassForm.controls.confirm_password.markAsUntouched()"></i>
                    
                                <i *ngIf="!confirmShowPass" [icon]="faEyeSlash" class="far fa-eye-slash mr-3 cursor-pointer text-gray-500"
                                    (click)="changePassForm.controls.confirm_password.valid ? changePassForm.controls.confirm_password.markAsUntouched() : '';confirmShowPassword(true);changePassForm.controls.confirm_password.markAsUntouched()"></i>
                            </span>
                        </div>
                        <ng-container *ngIf="changePassForm.controls.confirm_password.touched">
                            <span class="barlow text-red-700 fs-14-px" *ngIf="changePassForm.controls.confirm_password.hasError('required')">Confirm password is
                                required</span>
                            <br *ngIf="!same && changePassForm.controls.confirm_password.hasError('required') && changePassForm.controls.confirm_password.touched">
                            <span class="barlow text-red-700 mb-0 fs-14-px" *ngIf="!same">Passwords
                                    do not match!</span>
                        </ng-container>
                    </div>
                    <div class="col-span-2 flex justify-between items-start mt-5">
                        <a href="" class="outline-none no-underline forgot-color barlow-bold text-base"></a>
                        <button (click)="submitForm()"
                            [disabled]="(!changePassForm.valid || changePassForm.pristine) && !same"
                            class="barlow custom-btn btn-main-pink py-4 w-130-px focus:outline-none">
                            <span *ngIf="!requesting" class="font-bold">Submit</span>
                            <mat-spinner class="white-loader" *ngIf="requesting" diameter="20" color="accent" mode="indeterminate"></mat-spinner>
                        </button>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>
